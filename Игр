import random

def main():
    score = 0
    max_attempts = 3

    print("Добро пожаловать в сложную рандомную игру!")
    print("Ваша задача - выполнить серию заданий и набрать максимальное количество очков.")

    while True:
        task_type = random.randint(0, 2)  # Генерируем тип задания (0, 1 или 2)

        if task_type == 0:
            # Задание 1: Угадайте случайное число
            target_number = random.randint(1, 10)
            print("Задание 1: Угадайте число от 1 до 10.")
            attempts = 0

            while attempts < max_attempts:
                try:
                    guess = int(input(f"Попытка {attempts + 1}: "))
                except ValueError:
                    print("Введите целое число.")
                    continue

                attempts += 1

                if guess == target_number:
                    print("Правильно! Вы заработали 10 очков.")
                    score += 10
                    break
                else:
                    print("Неправильно. Попробуйте еще.")
        elif task_type == 1:
            # Задание 2: Генерация случайной операции
            number1 = random.randint(0, 19)
            number2 = random.randint(0, 9)
            operators = ['+', '-', '*']
            operator = random.choice(operators)
            result = None

            print(f"Задание 2: Вычислите {number1} {operator} {number2}")
            try:
                user_answer = int(input("Ваш ответ: "))
            except ValueError:
                print("Введите целое число.")
                continue

            if operator == '+':
                result = number1 + number2
            elif operator == '-':
                result = number1 - number2
            elif operator == '*':
                result = number1 * number2

            if user_answer == result:
                print("Правильно! Вы заработали 20 очков.")
                score += 20
            else:
                print(f"Неправильно. Правильный ответ: {result}")
        else:
            # Задание 3: Генерация случайной строковой последовательности
            words = ["яблоко", "банан", "вишня", "апельсин", "груша"]
            random_word = random.choice(words)

            print("Задание 3: Угадайте загаданное слово из фруктов.")
            user_guess = input("Ваш ответ: ")

            if user_guess.lower() == random_word:
                print("Правильно! Вы заработали 15 очков.")
                score += 15
            else:
                print(f"Неправильно. Правильный ответ: {random_word}")

        print(f"Ваши очки: {score}")

        play_again = input("Хотите продолжить игру? (да/нет): ")
        if play_again.lower() != "да":
            print(f"Спасибо за игру! Ваши общие очки: {score}")
            break

if __name__ == "__main__":
    main()
